package Menu;

import java.util.Scanner;
import java.sql.Date;
import Connect.OrderConnect;

public class OrderMenu {
    public static void orderMenu(OrderConnect orderManager, Scanner scanner) {
        while (true) {
            System.out.println("\n=== Order Menu ===");
            System.out.println("1. Add Order");
            System.out.println("2. Update Order");
            System.out.println("3. Delete Order");
            System.out.println("4. View Orders");
            System.out.println("0. Back");
            System.out.print("Choose an option: ");
            int choice = scanner.nextInt();

            try {
                if (choice == 1) {
                    System.out.print("Order ID: ");
                    int id = scanner.nextInt();
                    scanner.nextLine();
                    System.out.print("Order Date (yyyy-mm-dd): ");
                    String dateStr = scanner.nextLine();
                    Date date = Date.valueOf(dateStr);
                    System.out.print("Order Customer ID: ");
                    int customerId = scanner.nextInt();
                    scanner.nextLine();
                    System.out.print("Order Status: ");
                    String status = scanner.nextLine();
                    orderManager.addOrder(id, date, customerId, status);
                    System.out.println("Added successfully.");
                } else if (choice == 2) {
                    System.out.print("Order ID to update: ");
                    int id = scanner.nextInt();
                    scanner.nextLine();
                    System.out.print("New Order Date (yyyy-mm-dd): ");
                    String dateStr = scanner.nextLine();
                    Date date = Date.valueOf(dateStr);
                    System.out.print("New Order Customer ID: ");
                    int customerId = scanner.nextInt();
                    scanner.nextLine();
                    System.out.print("New Order Status: ");
                    String status = scanner.nextLine();
                    orderManager.updateOrder(id, date, customerId, status);
                    System.out.println("Updated successfully.");
                } else if (choice == 3) {
                    System.out.print("Order ID to delete: ");
                    int id = scanner.nextInt();
                    orderManager.deleteOrder(id);
                    System.out.println("Deleted successfully.");
                } else if (choice == 4) {
                    System.out.println("+------------+-----------------+-------------------+-------------------+");
                    System.out.println("| Order ID   | Order Date      | Order Customer ID | Order Status      |");
                    System.out.println("+------------+-----------------+-------------------+-------------------+");
                    orderManager.getOrdersTable();
                    System.out.println("+------------+-----------------+-------------------+-------------------+");
                } else if (choice == 0) {
                    break;
                } else {
                    System.out.println("Invalid option.");
                }
            } catch (Exception e) {
                System.out.println("Error: " + e.getMessage());
            }
        }
    }
}