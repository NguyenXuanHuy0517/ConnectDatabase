package Menu;

import java.util.Scanner;
import Connect.OrderItemConnect;

public class OrderItemMenu {
    public static void orderItemMenu(OrderItemConnect orderItemManager, Scanner scanner) {
        while (true) {
            System.out.println("\n=== Order Item Menu ===");
            System.out.println("1. Add Order Item");
            System.out.println("2. Update Order Item");
            System.out.println("3. Delete Order Item");
            System.out.println("4. View Order Items");
            System.out.println("0. Back");
            System.out.print("Choose an option: ");
            int choice = scanner.nextInt();

            try {
                if (choice == 1) {
                    System.out.print("Order Item ID: ");
                    int id = scanner.nextInt();
                    System.out.print("Order ID: ");
                    int orderId = scanner.nextInt();
                    System.out.print("Product ID: ");
                    int productId = scanner.nextInt();
                    System.out.print("Quantity: ");
                    int quantity = scanner.nextInt();
                    System.out.print("Subtotal: ");
                    double subtotal = scanner.nextDouble();
                    System.out.print("Product Price: ");
                    double productPrice = scanner.nextDouble();
                    orderItemManager.addOrderItem(id, orderId, productId, quantity, subtotal, productPrice);
                    System.out.println("Added successfully.");
                } else if (choice == 2) {
                    System.out.print("Order Item ID to update: ");
                    int id = scanner.nextInt();
                    System.out.print("New Quantity: ");
                    int quantity = scanner.nextInt();
                    System.out.print("New Subtotal: ");
                    double subtotal = scanner.nextDouble();
                    System.out.print("New Product Price: ");
                    double productPrice = scanner.nextDouble();
                    orderItemManager.updateOrderItem(id, quantity, subtotal, productPrice);
                    System.out.println("Updated successfully.");
                } else if (choice == 3) {
                    System.out.print("Order Item ID to delete: ");
                    int id = scanner.nextInt();
                    orderItemManager.deleteOrderItem(id);
                    System.out.println("Deleted successfully.");
                } else if (choice == 4) {
                    System.out.println("+---------------+----------+-----------+----------+------------+--------------+");
                    System.out.println("| OrderItem ID  | Order ID | ProductID | Quantity | Subtotal   | ProductPrice |");
                    System.out.println("+---------------+----------+-----------+----------+------------+--------------+");
                    orderItemManager.getOrderItemsTable();
                    System.out.println("+---------------+----------+-----------+----------+------------+--------------+");
                } else if (choice == 0) {
                    break;
                } else {
                    System.out.println("Invalid option.");
                }
            } catch (Exception e) {
                System.out.println("Error: " + e.getMessage());
            }
        }
    }
}